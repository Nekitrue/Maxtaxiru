<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–¢–∞–∫—Å–∏ MAX Neon Luxury - v1.2.7</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <style>
        :root {
            --neon-yellow: #fcc200;
            --neon-purple: #bc13fe;
            --silver: #c0c0c0;
            --bg-dark: #0d0d0d;
            --card-bg: #1a1a1a;
            --input-bg: #252525;
        }
        * { box-sizing: border-box; }
        body {
            font-family: 'Montserrat', sans-serif;
            background: var(--bg-dark);
            color: var(--silver);
            margin: 0;
            padding: 10px 15px 60px;
        }
        .container {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
        }
        label {
            font-size: 11px;
            font-weight: 800;
            color: var(--neon-yellow);
            text-transform: uppercase;
            margin-bottom: 6px;
            display: block;
        }
        input {
            width: 100%;
            padding: 14px;
            border-radius: 12px;
            border: 1px solid #333;
            background: var(--input-bg);
            color: #fff;
            margin-bottom: 12px;
        }
        .order-button {
            width: 100%;
            padding: 18px;
            background: var(--neon-yellow);
            border: none;
            border-radius: 16px;
            font-size: 18px;
            font-weight: 800;
            cursor: pointer;
            margin-top: 20px;
        }
        .price {
            font-size: 28px;
            font-weight: 800;
            text-align: center;
            margin: 20px 0;
            color: var(--neon-yellow);
        }
    </style>
</head>

<body>

<div class="container">
    <label>–û—Ç–∫—É–¥–∞</label>
    <input id="from" type="text" placeholder="–£–ª–∏—Ü–∞, –¥–æ–º">

    <label>–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ç–æ—á–∫–∏</label>
    <input class="stop-input" type="text" placeholder="–ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî —á–µ—Ä–µ–∑ |">

    <label>–ö—É–¥–∞</label>
    <input id="to" type="text" placeholder="–ú–µ—Å—Ç–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è">

    <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
    <input id="comment" type="text" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≤–æ–¥–∏—Ç–µ–ª—é">

    <div class="price" id="price">300 ‚ÇΩ</div>

    <button class="order-button" onclick="confirmOrder()">üöñ –ó–ê–ö–ê–ó–ê–¢–¨ –¢–ê–ö–°–ò</button>
</div>

<script>
    const tg = window.Telegram.WebApp;
    tg.expand();

    let currentPrice = 300;
    let paymentMethod = "–ù–∞–ª–∏—á–Ω—ã–µ";
    let detectedCity = "–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥";

    function confirmOrder() {
        const fromInp = document.getElementById("from");
        const toInp = document.getElementById("to");
        const commentInp = document.getElementById("comment");
        const stops = Array.from(document.querySelectorAll(".stop-input"))
            .map(i => i.value)
            .filter(v => v);

        if (!fromInp.value || !toInp.value) {
            alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –∞–¥—Ä–µ—Å–∞ –û—Ç–∫—É–¥–∞ –∏ –ö—É–¥–∞");
            return;
        }

        const data = {
            city: detectedCity,
            from: fromInp.value,
            to: toInp.value,
            inter: stops.join(" | ") || "–ù–µ—Ç",
            route: [fromInp.value, ...stops, toInp.value].join(" -> "),
            price: currentPrice,
            pay: paymentMethod,
            comment: commentInp.value || "–ù–µ—Ç",
            v: "1.2.7"
        };

        tg.sendData(JSON.stringify(data));
        tg.close();
    }
</script>

</body>
</html>
